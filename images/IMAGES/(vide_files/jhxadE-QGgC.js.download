;/*FB_PKG_DELIM*/

__d("WAWebRunWithInternetCheck",["Promise","WAWebNetworkStatus","WAWebToast.react","WAWebToastManager","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a,e){if(c("WAWebNetworkStatus").online)return a();d("WAWebToastManager").ToastManager.open(j.jsx(d("WAWebToast.react").Toast,{msg:e}));return(h||(h=b("Promise"))).resolve()}g.runWithInternetCheck=a}),98);
__d("WAWebNewsletterContextMenu",["fbt","Promise","WAWebChatContextMenuItemMarkUnread.react","WAWebChatContextMenuItemPin.react","WAWebCmd","WAWebDeleteRefreshedIcon.react","WAWebDrawerManager","WAWebDropdownItem.react","WAWebDropdownItemSeparator.react","WAWebExitRefreshedIcon.react","WAWebHeader.react","WAWebInfoRefreshedIcon.react","WAWebKeyboardTabUtils","WAWebLinkRefreshedIcon.react","WAWebModalManager","WAWebMuteMenuItem.react","WAWebNewsletterDeleteDrawer.react","WAWebNewsletterMembershipUtil","WAWebNewsletterModelUtils","WAWebNewsletterToggleMuteStateAction","WAWebRunWithInternetCheck","WAWebStateUtils","WAWebUIRefreshGatingUtils","WAWebUnfollowNewsletterConfirmationModal.react","WAWebWamEnumChannelEventSurface","asyncToGeneratorRuntime","react","useWAWebNewsletterInviteLink"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react");function a(a){var b;a=d("WAWebStateUtils").unproxy(a);b=(b=(b=a.newsletterMetadata)==null?void 0:b.adminCount)!=null?b:0;var c=d("WAWebNewsletterMembershipUtil").iAmSubscriber(a.newsletterMetadata),e=d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled(),f=[k.jsx(m,{chat:a,icon:e?k.jsx(d("WAWebInfoRefreshedIcon.react").InfoRefreshedIcon,{}):null},"Info"),k.jsx(l,{chat:a},"Pin")];(c||b>1)&&(f.push(k.jsx(n,{chat:a},"Mute")),f.push(k.jsx(o,{chat:a},"MarkAsRead")));f.push(k.jsx(p,{chat:a,icon:e?k.jsx(d("WAWebLinkRefreshedIcon.react").LinkRefreshedIcon,{}):null},"CopyLink"));e&&f.push(k.jsx(d("WAWebDropdownItemSeparator.react").DropdownItemSeparator,{}));c&&f.push(k.jsx(q,{chat:a,icon:e?k.jsx(d("WAWebExitRefreshedIcon.react").ExitRefreshedIcon,{}):null},"Unfollow"));d("WAWebNewsletterMembershipUtil").iAmOwner(a.newsletterMetadata)&&f.push(k.jsx(r,{chat:a,icon:e?k.jsx(d("WAWebDeleteRefreshedIcon.react").DeleteRefreshedIcon,{}):null},"Delete"));return f}function l(a){a=a.chat;return k.jsx(d("WAWebChatContextMenuItemPin.react").ChatContextMenuItemPin,{chat:a},"pin")}l.displayName=l.name+" [from "+f.id+"]";function m(a){var c=a.chat;a=a.icon;var e=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAWebCmd").Cmd.openChatBottom(c),yield d("WAWebHeader.react").openInfoPanel(c)});return function(){return a.apply(this,arguments)}}();return k.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:e,icon:a,children:h._(/*BTDS*/"Channel info")},"Info")}m.displayName=m.name+" [from "+f.id+"]";function n(a){var b=a.chat;a=function(){var a=d("WAWebNewsletterModelUtils").isMuted(b.muteExpiration)?[d("WAWebNewsletterToggleMuteStateAction").unmuteNewsletterAction,h._(/*BTDS*/"Could not unmute channel. Check your connection and try again.")]:[d("WAWebNewsletterToggleMuteStateAction").muteNewsletterAction,h._(/*BTDS*/"Could not mute channel. Check your connection and try again.")],c=a[0];a=a[1];void d("WAWebRunWithInternetCheck").runWithInternetCheck(function(){return c(b.id,{eventSurface:d("WAWebWamEnumChannelEventSurface").CHANNEL_EVENT_SURFACE.CHANNEL_UPDATES_HOME})},a)};return k.jsx(c("WAWebMuteMenuItem.react"),{onMute:a,mute:b.mute,chat:b},"mute")}n.displayName=n.name+" [from "+f.id+"]";function o(a){a=a.chat;return k.jsx(d("WAWebChatContextMenuItemMarkUnread.react").ChatContextMenuItemMarkUnread,{chat:a})}o.displayName=o.name+" [from "+f.id+"]";function p(a){var b=a.chat;a=a.icon;var c=(b=b.newsletterMetadata)==null?void 0:b.inviteCode;if(c==null)return null;b=function(){return d("useWAWebNewsletterInviteLink").copyInviteLink(d("useWAWebNewsletterInviteLink").getInviteLink(c))};return k.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:b,icon:a,children:h._(/*BTDS*/"Copy link")},"HandleCopy")}p.displayName=p.name+" [from "+f.id+"]";function q(a){var c=a.chat;a=a.icon;var e=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WAWebModalManager").ModalManager.open(k.jsx(d("WAWebUnfollowNewsletterConfirmationModal.react").UnfollowNewsletterConfirmationModal,{chat:c,loggingOptions:{eventSurface:d("WAWebWamEnumChannelEventSurface").CHANNEL_EVENT_SURFACE.CHANNEL_UPDATES_HOME}}))});return function(){return a.apply(this,arguments)}}();return k.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:e,icon:a,theme:d("WAWebDropdownItem.react").DropdownItemThemeType.Negative,children:h._(/*BTDS*/"Unfollow")},"HandleUnfollow")}q.displayName=q.name+" [from "+f.id+"]";function r(a){var e=a.chat;a=a.icon;var f=function(){d("WAWebDrawerManager").DrawerManager.openDrawerRight(k.jsx(c("WAWebNewsletterDeleteDrawer.react"),{chat:e,onBack:function(){return d("WAWebDrawerManager").DrawerManager.closeDrawerRight()}}),{transition:"slide-left",focusType:d("WAWebKeyboardTabUtils").FocusType.TABBABLE})},g=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield (i||(i=b("Promise"))).all([d("WAWebCmd").Cmd.openChatBottom(e),f()])});return function(){return a.apply(this,arguments)}}();return k.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:g,icon:a,theme:d("WAWebDropdownItem.react").DropdownItemThemeType.Negative,children:h._(/*BTDS*/"Delete channel")},"DeleteNewsletter")}r.displayName=r.name+" [from "+f.id+"]";g.getNewsletterContextMenuItems=a}),226);